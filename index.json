[{"categories":["OS"],"content":"操作系统实验环境配置 操作系统实验中，利用qemu运行RISCV架构下的操作系统，gdb远程调试。利用vscode给gdb提供图形界面的支持可以极大的改善调试体验。 ","date":"2020-10-17","objectID":"/kernel_debug/:0:0","tags":["Lab"],"title":"内核调试环境配置","uri":"/kernel_debug/"},{"categories":["OS"],"content":"1 安装Native Debug插件 Native DebugNative Debug \" Native Debug ","date":"2020-10-17","objectID":"/kernel_debug/:1:0","tags":["Lab"],"title":"内核调试环境配置","uri":"/kernel_debug/"},{"categories":["OS"],"content":"2 配置Lauch.json { \"version\": \"0.2.0\", \"configurations\": [ { \"type\": \"gdb\", \"request\": \"attach\", \"name\": \"Attach to QEMU\", //替换为自己的可执行文件路径 \"executable\": \"${workspaceFolder}/prj2/main\", //将端口替换为当前实验中qemu打开的端口，例如xv6习惯于使用26000 \"target\": \"localhost:1234\", \"remote\": true, \"cwd\": \"${workspaceRoot}\", //替换为相应的gdb可执行文件的地址 \"gdbpath\": \"/riscv64-linux/bin/riscv64-unknown-linux-gnu-gdb\", \"autorun\": [ //添加其他需要的文件提供调试信息 \"add-symbol-file ${workspaceFolder}/prj2/bootblock\", //在入口函数下断点 \"b _start\" ] }, ] } ","date":"2020-10-17","objectID":"/kernel_debug/:2:0","tags":["Lab"],"title":"内核调试环境配置","uri":"/kernel_debug/"},{"categories":["OS"],"content":"2.1 愉快调试 在终端中启动qemu后，F5打开调试器，程序将自动停止在设定的断点处。 debugdebug \" debug Tips: 使用侧边栏调试窗口中的Call Stack查看调用栈 Debug Console中照常使用gdb打印信息 在.gdbinit中自定义宏，打印信息,例如: define plist set $hd = (list_node_t*)\u0026ready_queue set $nd = ready_queue-\u003enext while($nd != $hd) p/x $nd set $nd = ((list_node_t*)$nd)-\u003enext end end define pcur printf \"current_running-\u003ekernel_sp= %lx\",current_running-\u003ekernel_sp printf \"current_running-\u003euser_sp= %lx\",current_running-\u003euser_sp printf \"context:\\n\" x/36gx current_running-\u003ekernel_sp end 示例： pcurpcur \" pcur 祝大家调试愉快。 ","date":"2020-10-17","objectID":"/kernel_debug/:2:1","tags":["Lab"],"title":"内核调试环境配置","uri":"/kernel_debug/"},{"categories":["环境配置"],"content":"Configure manjaro ","date":"2020-09-01","objectID":"/manjaro-configure/:0:0","tags":["Manjaro"],"title":"Manjaro","uri":"/manjaro-configure/"},{"categories":["环境配置"],"content":"Change sources ","date":"2020-09-01","objectID":"/manjaro-configure/:1:0","tags":["Manjaro"],"title":"Manjaro","uri":"/manjaro-configure/"},{"categories":["环境配置"],"content":"rank mirrors sudo pacman-mirrors -i -c China -m rank sudo pacman -Syu ","date":"2020-09-01","objectID":"/manjaro-configure/:1:1","tags":["Manjaro"],"title":"Manjaro","uri":"/manjaro-configure/"},{"categories":["环境配置"],"content":"change the gem source gem sources --add https://mirrors.tuna.tsinghua.edu.cn/rubygems/ --remove https://rubygems.org/ ","date":"2020-09-01","objectID":"/manjaro-configure/:1:2","tags":["Manjaro"],"title":"Manjaro","uri":"/manjaro-configure/"},{"categories":["环境配置"],"content":"change the npm source npm install -g nrm // 全局安装nrm模块 nrm ls // 显示所有可用的源 nrm use taobao // 切换到淘宝源： ","date":"2020-09-01","objectID":"/manjaro-configure/:2:0","tags":["Manjaro"],"title":"Manjaro","uri":"/manjaro-configure/"},{"categories":["环境配置"],"content":"change the bundle source bundle config mirror.https://rubygems.org https://mirrors.tuna.tsinghua.edu.cn/rubygems ","date":"2020-09-01","objectID":"/manjaro-configure/:3:0","tags":["Manjaro"],"title":"Manjaro","uri":"/manjaro-configure/"},{"categories":["环境配置"],"content":"add archlinuxcn and arch4edu #edit /etc/pacman.conf #append the following content [archlinuxcn] SigLevel = Optional TrustedOnly Server = http://mirrors.ustc.edu.cn/archlinuxcn/$arch [arch4edu] SigLevel = Never Server = http://mirrors.tuna.tsinghua.edu.cn/arch4edu/$arch add the archlinuxcn-keyring sudo pacman -S archlinuxcn-keyring sudo pacman -Syu ","date":"2020-09-01","objectID":"/manjaro-configure/:3:1","tags":["Manjaro"],"title":"Manjaro","uri":"/manjaro-configure/"},{"categories":["环境配置"],"content":"add blackarch # Run https://blackarch.org/strap.sh as root and follow the instructions. $ curl -O https://blackarch.org/strap.sh # The SHA1 sum should match: 9f770789df3b7803105e5fbc19212889674cd503 strap.sh $ sha1sum strap.sh # Set execute bit $ chmod +x strap.sh # Run strap.sh $ sudo ./strap.sh #change the source #edit the /etc/pacman.conf [blackarch] SigLevel = Optional TrustAll Server = https://mirrors.ustc.edu.cn/blackarch/$repo/os/$arch # add keyring first ","date":"2020-09-01","objectID":"/manjaro-configure/:3:2","tags":["Manjaro"],"title":"Manjaro","uri":"/manjaro-configure/"},{"categories":["环境配置"],"content":"Necessary software zsh sudo pacman -S manjaro-zsh-config chsh -s /bin/zsh yay sudo pacman -S yay chrome typora nvim code anaconda goldendict sudo pacman -S google-chrome typora code goldendict rime-pinyin sudo pacman -S fctix-rime kcm-fcitx fcitx-gtk2 fcitx-gtk3#need to log out gdb\u0026radare2\u0026pwntools sudo pacman -S pwndbg peda gef radare2 ghidra sudo pacman -S ghidra vmware sudo pacman -S vmware-workstation Remember to install the right linux-headers before using vmware, and start the networking. systemctl start vmware-networks.service systemctl enable vmware-networks.service metasploit sudo pacman -S msfdb metasploit ","date":"2020-09-01","objectID":"/manjaro-configure/:4:0","tags":["Manjaro"],"title":"Manjaro","uri":"/manjaro-configure/"},{"categories":["环境配置"],"content":"Configure the environment asystem time synchronize sudo timedatectl set-local-rtc true mount the windows partion UUID=0CB47F55B47F406E /mnt/C ntfs-3g defaults 0 0 UUID=585245C85245AB96 /mnt/D ntfs-3g defaults 0 0 ","date":"2020-09-01","objectID":"/manjaro-configure/:5:0","tags":["Manjaro"],"title":"Manjaro","uri":"/manjaro-configure/"},{"categories":["环境配置"],"content":"Backup backup with clonezilla restore the grub ","date":"2020-09-01","objectID":"/manjaro-configure/:6:0","tags":["Manjaro"],"title":"Manjaro","uri":"/manjaro-configure/"}]